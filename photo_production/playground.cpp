#include <feynumeric/matrix.hpp>
#include <feynumeric/polynomial.hpp>

#include <iomanip>
#include <iostream>

int main(){
	using namespace Feynumeric;
	Polynomial p({0.336961, 0.0921614, 0.765718, 0.848827, 0.673792, 0.180325, 0.0422521, 0.478737, 0.735937, 0.0471693, 0.158135});
			   std::cout << p.integrate(-3.5, 10.7) << "\n";

	/*
	Matrix test(5, 5, {
		50, 78.5, 127.41, 213.112, 366.009,
		78.5, 127.41, 213.112, 366.009,
		643.026, 127.41, 213.112, 366.009, 643.026,
		1151.57, 213.112, 366.009, 643.026, 1151.57,
		2095.71, 366.009, 643.026, 1151.57, 2095.71, 3865.4
	});

	Matrix test2(5, 5, {
			50, 78.5, 127.41000000000001, 213.11180000000004, 366.00861839999999,
			78.5, 127.41000000000001, 213.11180000000004, 366.00861839999999, 643.02571639999996,
			127.41000000000001, 213.11180000000004, 366.00861839999999, 643.02571639999996, 1151.5738787088001,
			213.11180000000004, 366.00861839999999, 643.02571639999996, 1151.5738787088001, 2095.7056625981118,
			366.00861839999999, 643.02571639999996, 1151.5738787088001, 2095.7056625981118, 3865.3972890005266
	});

	Matrix cramer3(5, 5, {50,78.5,127.41,196.792672,366.0086184,78.5,127.41,213.1118,339.86325418,643.0257164,127.41,213.1118,366.0086184,599.1455452812,1151.5738787088,213.1118,366.0086184,643.0257164,1074.98576498524,2095.705662598112,366.0086184,643.0257164,1151.5738787088,1957.782686947414,3865.397289000526});

//	std::cerr << test.det() << "\n";
//	std::cerr << test2.det() << "\n";
	std::setw(10);
	std::cout << "cramer3:\n" << cramer3.det() << "\n";


	std::vector<Point> list = {{1.08, 0.672001}, {1.1, 0.774902}, {1.12,
	                                                       0.879698}, {1.14, 0.986391}, {1.16,
	                                                       1.09498}, {1.18, 1.20546}, {1.2,
	                                                       1.31784}, {1.22, 1.43212}, {1.24,
	                                                       1.54829}, {1.26, 1.66635}, {1.28,
	                                                       1.78631}, {1.3, 1.90816}, {1.32,
	                                                       2.03191}, {1.34, 2.15756}, {1.36,
	                                                       2.2851}, {1.38, 2.41453}, {1.4,
	                                                       2.54586}, {1.42, 2.67908}, {1.44,
	                                                       2.8142}, {1.46, 2.95121}, {1.48,
	                                                       3.09012}, {1.5, 3.23092}, {1.52,
	                                                       3.37361}, {1.54, 3.5182}, {1.56,
	                                                       3.66468}, {1.58, 3.81306}, {1.6,
	                                                       3.96333}, {1.62, 4.11549}, {1.64,
	                                                       4.26955}, {1.66, 4.42551}, {1.68,
	                                                       4.58335}, {1.7, 4.74309}, {1.72,
	                                                       4.90472}, {1.74, 5.06825}, {1.76,
	                                                       5.23367}, {1.78, 5.40099}, {1.8,
	                                                       5.5702}, {1.82, 5.7413}, {1.84,
	                                                       5.91429}, {1.86, 6.08918}, {1.88,
	                                                       6.26596}, {1.9, 6.44464}, {1.92,
	                                                       6.62521}, {1.94, 6.80767}, {1.96,
	                                                       6.99202}, {1.98, 7.17827}, {2.,
	                                                       7.36641}, {2.02, 7.55645}, {2.04,
	                                                       7.74838}, {2.06, 7.9422}};

	Polynomial i(4);
	i.fit(list);
	std::cout << i.to_string('x') << "\n";
	 */
}